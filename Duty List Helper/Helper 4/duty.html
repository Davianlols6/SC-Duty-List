<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script src="https://www.davianeng.com/jquery.js"></script>

    <title>Hello, world!</title>
  </head>
  <body>

    <div class="container mt-5">

            <input list="names" name="browser" id="nameInput">

        <datalist id="names">
          </datalist>

          <select name="recess" id="recess">
            <option value="NB1">NB1</option>
            <option value="NB2">NB2</option>
            <option value="NB3">NB3</option>
            <option value="Stall">Stall</option>
            <option value="Pond">Pond</option>
            <option value="Central">Central</option>
            <option value="Lift">Lift</option>
            <option value="">On Break</option>
          </select>
          <button onclick="buttonPressed()">Enter</button>

    </div>
    <div class="container mt-3">
        <b>Names added</b>
        <div id="namesAdded">

        </div>
    </div>
    <div class="container mt-3">
        <b>Names not added</b>
        <div id="namesNotAdded">

        </div>
    </div>

    <script>
        let names = ["Abby", "Alicia", "Amelia", "Brenda", "Branson", "Chanel", "Chloe Hoon", "Chloe Koh", "Chole T", "Daryll", "Denise", "Evelyn", "Gerald", "Hannah", "Hong Wei", "Jaswant", "Javen", "Jerome", "Jin Wei", "Jing Wen", "Jodius", "Joie", "Jordon", "Kai Xuan", "Kristine", "Kristy", "Li Xuan", "Megan", "Melissa", "Menerva", "Muhilan", "Nash", "Nethra", "Phebe", "Raihayu", "Rishini", "Shayanah", "Ulfah", "Vera", "Wei Heng", "Wen Tihng", "Xin Hui", "Yu Xi", "Yun Ji"];

        for (let i = 0; i < names.length; i++) {
            $("#names").append(`<option value="${names[i]}">`)
}

var namesAdded = {}

function buttonPressed() {
    let input = $("#nameInput").val();
        let recess = $("#recess").val();
        if (names.includes(input) === false) {
            alert("name not in datalist")
            return;
        }

        $("#nameInput").val('');

        namesAdded[input] = recess;

        var namesNotAdded = []

        var keys = [];
for (var key in namesAdded) {
  if (namesAdded.hasOwnProperty(key)) {
    keys.push(key);
  }
}

        for (let i = 0; i < names.length; i++) {
            if (keys.includes(names[i]) === false) {
                namesNotAdded.push(names[i])
            }
}
        $("#namesNotAdded").text(namesNotAdded)
        $("#namesAdded").text(JSON.stringify(namesAdded))
        
        $("#names").empty();
        for (let i = 0; i < namesNotAdded.length; i++) {
            $("#names").append(`<option value="${namesNotAdded[i]}">`)
}
}

$(document).on('keypress',function(e) {
    if(e.which == 13) {
        let input = $("#nameInput").val();
        let recess = $("#recess").val();
        if (names.includes(input) === false) {
            alert("name not in datalist")
            return;
        }

        $("#nameInput").val('');

        namesAdded[input] = recess;

        var namesNotAdded = []

        var keys = [];
for (var key in namesAdded) {
  if (namesAdded.hasOwnProperty(key)) {
    keys.push(key);
  }
}

        for (let i = 0; i < names.length; i++) {
            if (keys.includes(names[i]) === false) {
                namesNotAdded.push(names[i])
            }
}
        $("#namesNotAdded").text(namesNotAdded)
        $("#namesAdded").text(JSON.stringify(namesAdded))
        
        $("#names").empty();
        for (let i = 0; i < namesNotAdded.length; i++) {
            $("#names").append(`<option value="${namesNotAdded[i]}">`)
}

    }
});
        
    </script> 
  </body>
</html>
